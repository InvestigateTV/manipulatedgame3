<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InvestigateTV AI Quiz</title>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <style>
  .quiz-container {
  background: url("https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/manipulated_matchup_bg.png");
  background-repeat: no-repeat;
  background-size: 100%;
  font-family: "Arial", Helvetica, sans-serif;
  font-color: #fff;
  margin: 0 auto;
  display: none;
    padding: 6px;
  align-items: center;
}

.footer-image-container {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 15vw; 
    min-height: 50px; 
    max-width: 175px;
    padding-bottom: 6px; 
    z-index: 1000; 
    display: flex;
    justify-content: center;
    align-items: flex-end; 
    box-sizing: border-box; 
}

.footer-image-container img {
    display: block;
    max-width: 100%;
    height: auto;
}

.quiz-container h1 {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  text-align: center;
  color: #fff
}

.quiz-container .options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 20px;
}

.quiz-container .option {
  border: none;
  padding: 20px 28px;
  font-size: 18px;
  background: #9EB8EB;
  color: #fff;
  font-weight: bold;
  border-radius: 8px;
}

.quiz-container button {
  cursor: pointer;
}

.disabled {
  pointer-events: none;
}

.option.correct {
  background: #A3C76E;
  color: #222;
  position: relative; 
  border: 3px solid #415C1D; 
}

.option.correct::after {
  content: "Correct!";
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  background: #A3C76E;
  color: #222;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  border: 3px solid #415C1D
}

.option.incorrect {
  background: #EF5D4C;
  position: relative;
  border: 3px solid #b92b2b; 
}

.option.incorrect::after {
  content: "Incorrect";
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  background: #EF5D4C;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  border: 3px solid #b92b2b
}

.quiz-container .next-btn,
.quiz-result .retake-btn {
  background: #12326D;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 12px 32px;
  font-size: 20px;
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 3px;
  cursor: pointer;
  width: 100%;
}

.quiz-result {
  display: none;
  flex-direction: column;
  gap: 8px;
  margin: 0 auto;
  font-family: "Arial", Helvetica, sans-serif;
  color: #fff;
  padding: 8px;
}

.quiz-result h2 {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  text-align: center;
  color: #fff
}

.quiz-result .question-container {
  padding: 6px;
  border: 1px solid #9EB8EB;
  display: flex;
  height: 100%;
  flex-flow: row;
  flex-shrink: 3;
  gap: 8px;
  text-align: center;
}

.quiz-result .question-container.incorrect {
  background: #e63946;
  color: #fff;
}
.quiz-result .question-container.correct
{
  background: #A3C76E;
  color: #fff;
}

.question-number {
  font-size: 12px;
  background: #9EB8EB;
  color: #fff;
  padding: 6px 12px;
  border-radius: 6px;
  width: 100%;
  box-sizing: border-box;
  margin: 16px 0;
}

@media (max-width: 700px) {
  .quiz-container .options {
    grid-template-columns: 1fr;
  }
}


.start-btn-container {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  color: #fff;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.start-btn-container .start-msg {
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(to bottom, rgba(0,0,0,0)0%, rgba(0,0,0,.7)30%, rgba(0,0,0,.9)50%, rgba(0,0,0,.7)70%, rgba(0,0,0,0)100%);
  font-family: "Arial", Helvetica, sans-serif;
  font-size: 20px;
  font-weight: normal;
  color: #fff;
  padding: 20px 100%;
  justify-content: center;
  text-align: center;
  display: flex;
  flex-direction: row;
  white-space: nowrap;
  align-items: center;

}
.start-btn-container h2 {
  font-size: 40px;
  margin: 0;
}

.start-btn-container .start-img {
	position: fixed;
    top: 0%;
   	left: 50%;
    transform: translateX(-50%);
    width: 100%;
    display: flex;
    justify-content: center;
    padding-bottom: 6px;
}

.start-btn-container .start-img img{
	display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

.start-btn-container .start-btn {
  position: fixed;
  top: 55%;
  left: 50%;
  background: #9EB8EB;
  color: #fff;
  padding: 8px 32px;
  border-radius: 8px;
  border: none;
  font-size: 20px;
  cursor: pointer;
  text-transform: uppercase;
  font-weight: bold;
  transform: translateX(-50%);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  white-space: nowrap; 
  gap: 5px; 
}


.return-btn-container {
  position: fixed;
  bottom: 80px;
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  color: #000; 
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  white-space: nowrap; 
  gap: 15px; 
  z-index: 1001;
  box-sizing: border-box;
  background-color: #000;
  border-radius: 8px;
}

.return-btn-container .return-btn .special-font {
	font-family: "Montserrat", sans-serif;
    font-weight: bold;
    color: #FFF;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    font-size:18px;
}

.return-btn-container .return-btn {
  background: rgba(93, 146, 88, 0.7);
  color: #FFF; 
  padding: 6px 24px;
  border-radius: 6px;
  border: none;
  font-size: 15px;
  cursor: pointer;
  font-weight: normal; 
}


.quiz-container img.question {
  max-width: 100%;
  max-height: 30vh; 
  height: auto;
  display: block;
  margin: 1em auto;
  object-fit: contain;
  border-radius: 8px;
}

  </style>

  
  <body style="background-color:#000000;">
    	<div class="start-img">
      <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/manipulated_matchup.png" alt="Illustration of a hand below a glowing set of lines and dots designed to represent artificial intelligence. The words manipulated matchup are printed above the illustration" width=100% margin=0 ></div>
      <br>
     <div class="start-btn-container">
     <div class="start-msg">
     <p>Test your skills at identifying <br> AI generated images</p>
      <br></div></div><div class="start-btn-container">
      <button class="start-btn">Start Quiz</button></div>
    

    <div class="quiz-container">
      <h1>Is it AI?</h1>
      <div class="question-number"></div>
      <img id="question-image" class="question" src="" alt="Question Image">
      <div class="options"></div>
      <button class="next-btn">Next</button>
    </div>

    <div class="quiz-result"></div>
   	<div class="return-btn-container">
    <button class="return-btn">Exit to the <span class="special-font"> mAnIpulated</span> Homepage</button>
</div>
   	<div class="footer-image-container">
    	<img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/GTV-Clear-Logomark-RGB-color.png" alt="Gray Media Logo: Colorful partial circles arranged to form the letter G">
</div>
  </body>

  
<script>
  let quizData = [
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-1.png",
      options: ["AI", "Not AI"],
      correct: "AI",
    },
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-2.png",
      options: ["AI", "Not AI"],
      correct: "Not AI",
    },
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-3.png",
      options: ["AI", "Not AI"],
      correct: "AI",
    },
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-4.png",
      options: ["AI", "Not AI"],
      correct: "Not AI",
    },
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-5.png",
      options: ["AI", "Not AI"],
      correct: "Not AI",
    },
    {
      question: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-6.png",
      options: ["AI", "Not AI"],
      correct: "AI",
    },
  ];

  const quizContainer = document.querySelector(".quiz-container");
  const questionNumberEl = document.querySelector(".question-number");
  const options = document.querySelector(".options");
  const nextBtn = document.querySelector(".next-btn");
  const quizResult = document.querySelector(".quiz-result");
  const startBtnContainer = document.querySelector(".start-btn-container");
  const startBtn = document.querySelector(".start-btn");
  const questionImage = document.getElementById("question-image");

  let questionNumber = 0;
  let score = 0;
  const MAX_QUESTIONS = 5;

  const shuffleArray = (array) => array.slice().sort(() => Math.random() - 0.5);

  quizData = shuffleArray(quizData);

  const resetLocalStorage = () => {
    for (let i = 0; i < MAX_QUESTIONS; i++) {
      localStorage.removeItem(`userAnswer_${i}`);
    }
  };

  const checkAnswer = (e) => {
    const userAnswer = e.target.textContent;
    const correctAnswer = quizData[questionNumber].correct;

    if (userAnswer === correctAnswer) {
      score++;
      e.target.classList.add("correct");
    } else {
      e.target.classList.add("incorrect");
    }

    localStorage.setItem(`userAnswer_${questionNumber}`, userAnswer);

    const allOptions = document.querySelectorAll(".option");
    allOptions.forEach((o) => o.classList.add("disabled"));
  };

  const createQuestion = () => {
    const currentQuestion = quizData[questionNumber];

    options.innerHTML = "";
    questionImage.src = currentQuestion.question;
    questionNumberEl.textContent = `Question ${questionNumber + 1} of ${MAX_QUESTIONS}`;

  // Use options as-is, no shuffle
  const optionsList = currentQuestion.options;

  optionsList.forEach((opt) => {
    const option = document.createElement("button");
    option.classList.add("option");
    option.textContent = opt;
    option.addEventListener("click", checkAnswer);
    options.appendChild(option);
  });
};

  const displayQuizResult = () => {
    quizResult.innerHTML = "";
    quizResult.style.display = "flex";
    quizContainer.style.display = "none";

    const resultHeading = document.createElement("h2");
    resultHeading.textContent = `You scored ${score} out of ${MAX_QUESTIONS}`;
    quizResult.appendChild(resultHeading);

    for (let i = 0; i < MAX_QUESTIONS; i++) {
      const resultItem = document.createElement("div");
      resultItem.classList.add("question-container");

      const userAnswer = localStorage.getItem(`userAnswer_${i}`) || "Not Answered";
      const correctAnswer = quizData[i].correct;

      if (userAnswer !== correctAnswer) {
        resultItem.classList.add("incorrect");
      }
      if (userAnswer == correctAnswer) {
        resultItem.classList.add("correct");
      }

      resultItem.innerHTML = `
        <img src="${quizData[i].question}" alt="Question ${i + 1}" style="max-height: 10vh">
        <br>
        <div><strong>Your answer:</strong><br>  ${userAnswer}</div>
        <br>
        <div><strong>Correct answer:</strong> <br> ${correctAnswer}</div>
      `;

      quizResult.appendChild(resultItem);
    }

    const retakeBtn = document.createElement("button");
    retakeBtn.textContent = "Retake Quiz";
    retakeBtn.classList.add("retake-btn");
    retakeBtn.addEventListener("click", () => {
      questionNumber = 0;
      score = 0;
      quizData = shuffleArray(quizData);
      resetLocalStorage();
      quizResult.style.display = "none";
      quizContainer.style.display = "block";
      createQuestion();
    });

    quizResult.appendChild(retakeBtn);
  };

  const displayNextQuestion = () => {
    if (questionNumber >= MAX_QUESTIONS - 1) {
      displayQuizResult();
    } else {
      questionNumber++;
      createQuestion();
    }
  };

  nextBtn.addEventListener("click", displayNextQuestion);

  startBtn.addEventListener("click", () => {
    startBtnContainer.style.display = "none";
    quizContainer.style.display = "block";
    resetLocalStorage();
    createQuestion();
  });
</script>

</html>
